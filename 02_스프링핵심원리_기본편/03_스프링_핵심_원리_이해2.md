# μ¤ν”„λ§ ν•µμ‹¬ μ›λ¦¬ μ΄ν•΄2 - κ°μ²΄ μ§€ν–¥ μ›λ¦¬ μ μ©

---

- κΈ°μ΅΄ μ½”λ“μ— κ°μ²΄μ§€ν–¥μ μ›λ¦¬ μ μ©

## μƒλ΅μ΄ ν• μΈ μ •μ±… κ°λ°

![Untitled](./img/Lecture3/Untitled.png)

```java
public class OrderServiceImpl implements OrderService {

  // private final DiscountPolicy discountPolicy = new FixDiscountPolicy();
   private final DiscountPolicy discountPolicy = new RateDiscountPolicy();

	...
}
```

- μ—­ν• κ³Ό κµ¬ν„, λ‹¤ν•μ„±, κµ¬ν„ κ°μ²΄ λ¶„λ¦¬ λ¨λ‘ μ§€μΌ°μ
- κ°μ²΄μ§€ν–¥ μ„¤κ³„ μ›μΉ™μ€? μ§€ν‚¨ κ²ƒμ²λΌ λ³΄μ΄μ§€λ§ μ•„λ‹λ‹¤.

  ![Untitled](./img/Lecture3/Untitled%201.png)

- ν΄λμ¤ μμ΅΄κ΄€κ³„λ¥Ό λ³΄λ©΄ κµ¬μ²΄μ μΈ κµ¬ν„ ν΄λμ¤μ—λ„ μμ΅΄μ¤‘ β‡’ **DIP μ„λ°**
    - μ¶”μƒ(μΈν„°νμ΄μ¤) μμ΅΄: `DiscountPolicy`
    - κµ¬μ²΄(κµ¬ν„) ν΄λμ¤: `FixDiscountPolicy` , `RateDiscountPolicy`
- `FixDiscountPolicy` λ¥Ό `RateDiscountPolicy`λ΅ λ³€κ²½ν•λ” μκ°„ `OrderServiceImpl`μ μ†μ¤ μ½”λ“λ„ ν•¨κ» λ³€κ²½ν•΄μ•Ό ν•λ‹¤ β‡’ **OCP μ„λ°**

>π’΅ μΈν„°νμ΄μ¤μ—λ§ μμ΅΄ν•λ„λ΅ μ„¤κ³„λ¥Ό λ³€κ²½ν•μ


```java
public class OrderServiceImpl implements OrderService{

    private final MemberRepository memberRepository = new MemoryMemberRepository();
		// μ—¬κΈ°λ¥Ό μμ •ν•¨    
		// newλ΅ μ§€μ •ν•λ” λ¶€λ¶„μ„ μ—†μ• μ•Ό μΈν„°νμ΄μ¤μ—λ§ μμ΅΄ν•λ” μ„¤κ³„μ΄λ‹¤
		private DiscountPolicy discountPolicy; 
		
		...
}
```

![Untitled](./img/Lecture3/Untitled%202.png)

# κ΄€μ‹¬μ‚¬ λ¶„λ¦¬

- λ°°μ°λ” λ³ΈμΈμ μ—­ν• μΈ λ°°μ—­μ„ μν–‰ν•λ” κ²ƒμ—λ§ μ§‘μ¤‘ν•΄μ•Ό ν•λ‹¤.
- λ””μΉ΄ν”„λ¦¬μ¤λ” μ–΄λ–¤ μ—¬μ μ£ΌμΈκ³µμ΄ μ„ νƒλλ”λΌλ„ λ‘κ°™μ΄ κ³µμ—°μ„ ν•  μ μμ–΄μ•Ό ν•λ‹¤.
- κ³µμ—°μ„ κµ¬μ„±ν•κ³ , λ‹΄λ‹Ή λ°°μ°λ¥Ό μ„­μ™Έν•κ³ , μ—­ν• μ— λ§λ” λ°°μ°λ¥Ό μ§€μ •ν•λ” μ±…μ„μ„ λ‹΄λ‹Ήν•λ” λ³„λ„μ κ³µμ—°
  κΈ°νμκ°€ λ‚μ¬μ‹μ μ΄λ‹¤.
- κ³µμ—° κΈ°νμλ¥Ό λ§λ“¤κ³ , λ°°μ°μ™€ κ³µμ—° κΈ°νμμ μ±…μ„μ„ ν™•μ‹¤ν λ¶„λ¦¬ν•μ
- `AppConfig` : κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„±ν•κ³  μ—°κ²°ν•λ” μ—­ν• 

![Untitled](./img/Lecture3/Untitled%203.png)

![Untitled](./img/Lecture3/Untitled%204.png)

- μμ΅΄κ΄€κ³„ μ£Όμ… / μμ΅΄μ„± μ£Όμ…
- μ‹¤ν–‰μ—λ§ μ‹ κ²½μ“°λ©΄ λκ³ , μΈν„°νμ΄μ¤μ—λ§ μμ΅΄ν•λ‹¤. μΈν„°νμ΄μ¤μ κµ¬ν„μ²΄λ” `appconfig`κ°€ λ§¤μΉ­ν•΄μ¤€λ‹¤.
- **orderApp β†’ AppConfig β†’ MemberService β†’ MemberServiceImpl**

    ```java
    public class OrderApp {
        public static void main(String[] args) {
    
            AppConfig appConfig = new AppConfig();
            MemberService memberService = appConfig.memberService();
            OrderService orderService = appConfig.orderService();
    
            Long memberId = 1L;
            Member member = new Member(memberId, "memberA", Grade.VIP);
            memberService.join(member);
    
            Order order = orderService.createOrder(memberId, "itemA", 10000);
    
            System.out.println("order = " + order);
        }
    }
    ```

    ```java
    public class AppConfig {
    
        public MemberService memberService() {
            return new MemberServiceImpl(new MemoryMemberRepository());
        }
    
        public OrderService orderService(){
            return new OrderServiceImpl(new MemoryMemberRepository(), new FixDiscountPolicy());
        }
    }
    ```

    ```java
    public class MemberServiceImpl implements MemberService{
    
        private final MemberRepository memberRepository; // μΈν„°νμ΄μ¤(μ¶”μƒν™”μ—μ„λ§ μμ΅΄ν•¨)
    
        // μƒμ„±μ μ£Όμ… : μƒμ„±μλ¥Ό ν†µν•΄μ„ κµ¬ν„μ²΄λ¥Ό μ„ νƒ
        public MemberServiceImpl(MemberRepository memberRepository) {
            this.memberRepository = memberRepository;
        }
    
        @Override
        public void join(Member member) {
            memberRepository.save(member);
        }
    
        @Override
        public Member findMember(Long memberId) {
            return memberRepository.findById(memberId);
        }
    }
    ```


## μΆ‹μ€ κ°μ²΄ μ§€ν–¥ μ„¤κ³„μ 5κ°€μ§€ μ›μΉ™μ μ μ©

### SRP λ‹¨μΌ μ±…μ„ μ›μΉ™

- ν• ν΄λμ¤λ” ν•λ‚μ μ±…μ„λ§ κ°€μ Έμ•Ό ν•λ‹¤.
- ν΄λΌμ΄μ–ΈνΈ κ°μ²΄λ” μ§μ ‘ κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„±ν•κ³ , μ—°κ²°ν•κ³ , μ‹¤ν–‰ν•λ” λ‹¤μ–‘ν• μ±…μ„μ„ κ°€μ§€κ³  μμ
- SRP λ‹¨μΌ μ±…μ„ μ›μΉ™μ„ λ”°λ¥΄λ©΄μ„ κ΄€μ‹¬μ‚¬λ¥Ό λ¶„λ¦¬ν•¨
- κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„±ν•κ³  μ—°κ²°ν•λ” μ±…μ„μ€ AppConfigκ°€ λ‹΄λ‹Ή
- ν΄λΌμ΄μ–ΈνΈ κ°μ²΄λ” μ‹¤ν–‰ν•λ” μ±…μ„λ§ λ‹΄λ‹Ή

### DIP μμ΅΄κ΄€κ³„ μ—­μ „ μ›μΉ™

- ν”„λ΅κ·Έλλ¨Έλ” β€μ¶”μƒν™”μ— μμ΅΄ν•΄μ•Όμ§€, κµ¬μ²΄ν™”μ— μμ΅΄ν•λ©΄ μ•λλ‹¤.β€ μμ΅΄μ„± μ£Όμ…μ€ μ΄ μ›μΉ™μ„ λ”°λ¥΄λ” λ°©λ²• μ¤‘
  ν•λ‚λ‹¤.
- μƒλ΅μ΄ ν• μΈ μ •μ±…μ„ κ°λ°ν•κ³ , μ μ©ν•λ ¤κ³  ν•λ‹ ν΄λΌμ΄μ–ΈνΈ μ½”λ“λ„ ν•¨κ» λ³€κ²½ν•΄μ•Ό ν–λ‹¤. μ™λƒν•λ©΄ κΈ°μ΅΄
  ν΄λΌμ΄μ–ΈνΈ μ½”λ“( `OrderServiceImpl` )λ” DIPλ¥Ό μ§€ν‚¤λ©° DiscountPolicy μ¶”μƒν™” μΈν„°νμ΄μ¤μ—
  μμ΅΄ν•λ” κ²ƒ κ°™μ•μ§€λ§, `FixDiscountPolicy` κµ¬μ²΄ν™” κµ¬ν„ ν΄λμ¤μ—λ„ ν•¨κ» μμ΅΄ν–λ‹¤.
- ν΄λΌμ΄μ–ΈνΈ μ½”λ“κ°€ `DiscountPolicy` μ¶”μƒν™” μΈν„°νμ΄μ¤μ—λ§ μμ΅΄ν•λ„λ΅ μ½”λ“λ¥Ό λ³€κ²½ν–λ‹¤.
  ν•μ§€λ§ ν΄λΌμ΄μ–ΈνΈ μ½”λ“λ” μΈν„°νμ΄μ¤λ§μΌλ΅λ” μ•„λ¬΄κ²ƒλ„ μ‹¤ν–‰ν•  μ μ—†λ‹¤.
- `AppConfig`κ°€ `FixDiscountPolicy` κ°μ²΄ μΈμ¤ν„΄μ¤λ¥Ό ν΄λΌμ΄μ–ΈνΈ μ½”λ“ λ€μ‹  μƒμ„±ν•΄μ„ ν΄λΌμ΄μ–ΈνΈ μ½”λ“μ— μμ΅΄κ΄€κ³„λ¥Ό μ£Όμ…ν–λ‹¤. μ΄λ ‡κ²ν•΄μ„ DIP μ›μΉ™μ„ λ”°λ¥΄λ©΄μ„ λ¬Έμ λ„ ν•΄κ²°ν–λ‹¤.

### OCP κ°λ°-νμ‡„ μ›μΉ™

- μ†ν”„νΈμ›¨μ–΄ μ”μ†λ” ν™•μ¥μ—λ” μ—΄λ ¤ μμΌλ‚ λ³€κ²½μ—λ” λ‹«ν€ μμ–΄μ•Ό ν•λ‹¤
- λ‹¤ν•μ„± μ‚¬μ©ν•κ³  ν΄λΌμ΄μ–ΈνΈκ°€ DIPλ¥Ό μ§€ν‚΄
- μ• ν”λ¦¬μΌ€μ΄μ…μ„ μ‚¬μ© μμ—­κ³Ό κµ¬μ„± μμ—­μΌλ΅ λ‚λ”
- `AppConfig`κ°€ μμ΅΄κ΄€κ³„λ¥Ό `FixDiscountPolicy` `RateDiscountPolicy` λ΅ λ³€κ²½ν•΄μ„ ν΄λΌμ΄μ–ΈνΈ μ½”λ“μ— μ£Όμ…ν•λ―€λ΅ ν΄λΌμ΄μ–ΈνΈ μ½”λ“λ” λ³€κ²½ν•μ§€ μ•μ•„λ„ λ¨
- μ†ν”„νΈμ›¨μ–΄ μ”μ†λ¥Ό μƒλ΅­κ² ν™•μ¥ν•΄λ„ μ‚¬μ© μμ—­μ λ³€κ²½μ€ λ‹«ν€ μλ‹¤!
    - λ³€κ²½μ— λ‹«ν€ μμ = λ³€κ²½μ΄ ν•„μ” μ—†μ

## IoC, DI, κ·Έλ¦¬κ³  μ»¨ν…μ΄λ„

>π’΅ **IoC(Inversion of Control)**
>- μ μ–΄μ μ—­μ „
>- ν”„λ μ„μ›ν¬ κ°™μ€ κ²ƒμ΄ λ‚΄ μ½”λ“λ¥Ό λ€μ‹  νΈμ¶ν•΄μ£Όλ” κ²ƒ


- κµ¬ν„ κ°μ²΄λ” μμ‹ μ λ΅μ§μ„ μ‹¤ν–‰ν•λ” μ—­ν• λ§ λ‹΄λ‹Ήν•λ‹¤. ν”„λ΅κ·Έλ¨μ μ μ–΄ νλ¦„μ€ μ΄μ  `AppConfig`κ°€ κ°€μ Έκ°„λ‹¤
- `AppConfig`λ” `OrderServiceImpl` μ΄ μ•„λ‹ `OrderService` μΈν„°νμ΄μ¤μ λ‹¤λ¥Έ κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„±ν•κ³  μ‹¤ν–‰ν•  μ λ„ μλ‹¤


>π’΅ **ν”„λ μ„μ›ν¬ vs λΌμ΄λΈλ¬λ¦¬**
>- λ‚΄κ°€ μ‘μ„±ν• μ½”λ“λ¥Ό ν”„λ μ„μ›ν¬κ°€ μ μ–΄ν•κ³  λ€μ‹  μ‹¤ν–‰ (ex. JUnit)
>- λ‚΄κ°€ μ‘μ„±ν• μ½”λ“κ°€ μ§μ ‘ μ μ–΄μ νλ¦„μ„ λ‹΄λ‹Ήν•λ‹¤λ©΄ λΌμ΄λΈλ¬λ¦¬


- μ •μ μΈ ν΄λμ¤ μμ΅΄κ΄€κ³„
    - μ• ν”λ¦¬μΌ€μ΄μ…μ„ μ‹¤ν–‰ν•μ§€ μ•μ•„λ„ λ¶„μ„ν•  μ μλ‹¤
    - import μ½”λ“λ§ λ³΄κ³  μμ΅΄κ΄€κ³„λ¥Ό μ‰½κ² νλ‹¨ κ°€λ¥
- λ™μ μΈ κ°μ²΄ μΈμ¤ν„΄μ¤ μμ΅΄ κ΄€κ³„
    - μ• ν”λ¦¬μΌ€μ΄μ… μ‹¤ν–‰ μ‹μ μ— μ‹¤μ  μƒμ„±λ κ°μ²΄ μΈμ¤ν„΄μ¤μ μ°Έμ΅°κ°€ μ—°κ²°λ μμ΅΄ κ΄€κ³„λ‹¤
    - κ°μ²΄ μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν•κ³ , κ·Έ μ°Έμ΅°κ°’μ„ μ „λ‹¬ν•΄μ„ μ—°κ²°λλ‹¤. (μλ°”μ—μ„λ” μ°Έμ΅°λ΅ μΈμ¤ν„΄μ¤λ“¤μ΄ μ—°κ²°λ¨)
    - μμ΅΄κ΄€κ³„ μ£Όμ…μ„ μ‚¬μ©ν•λ©΄ ν΄λΌμ΄μ–ΈνΈ μ½”λ“λ¥Ό λ³€κ²½ν•μ§€ μ•κ³ , ν΄λΌμ΄μ–ΈνΈκ°€ νΈμ¶ν•λ” λ€μƒμ νƒ€μ…
      μΈμ¤ν„΄μ¤λ¥Ό λ³€κ²½ν•  μ μλ‹¤.
- **μμ΅΄κ΄€κ³„ μ£Όμ…μ„ μ‚¬μ©ν•λ©΄ μ •μ μΈ ν΄λμ¤ μμ΅΄κ΄€κ³„λ¥Ό λ³€κ²½ν•μ§€ μ•κ³ , λ™μ μΈ κ°μ²΄ μΈμ¤ν„΄μ¤ μμ΅΄κ΄€κ³„λ¥Ό
  μ‰½κ² λ³€κ²½ν•  μ μλ‹¤.**

- μ •μ μΈ μμ΅΄κ΄€κ³„λ¥Ό μ†λ€μ§€ μ•λ”λ‹¤ = μ• ν”λ¦¬μΌ€μ΄μ… μ½”λ“ λ³€κ²½ν•μ§€ μ•λ”λ‹¤


>π’΅ **IoC μ»¨ν…μ΄λ„, DI μ»¨ν…μ΄λ„**
>- AppConfig μ²λΌ κ°μ²΄λ¥Ό μƒμ„±ν•κ³  κ΄€λ¦¬ν•λ©΄μ„ μμ΅΄κ΄€κ³„λ¥Ό μ—°κ²°ν•΄ μ£Όλ” κ²ƒμ„ IoC μ»¨ν…μ΄λ„ λλ” DI μ»¨ν…μ΄λ„λΌ ν•λ‹¤.
>- μμ΅΄κ΄€κ³„ μ£Όμ…μ— μ΄μ μ„ λ§μ¶”μ–΄ μµκ·Όμ—λ” μ£Όλ΅ DI μ»¨ν…μ΄λ„λΌ ν•λ‹¤. (μ¤ν”„λ§ μ™Έμ—λ„ λ‹¤μ–‘ν• μ¤ν”μ†μ¤κ°€ μμ)
>- λλ” μ–΄μƒλΈ”λ¬, μ¤λΈμ νΈ ν©ν† λ¦¬ λ“±μΌλ΅ λ¶λ¦¬κΈ°λ„ ν•λ‹¤.


## μ¤ν”„λ§μΌλ΅ μ „ν™ν•κΈ°

```java
package hello.core;

import hello.core.discount.DiscountPolicy;
import hello.core.discount.FixDiscountPolicy;
import hello.core.discount.RateDiscountPolicy;
import hello.core.member.MemberRepository;
import hello.core.member.MemberService;
import hello.core.member.MemberServiceImpl;
import hello.core.member.MemoryMemberRepository;
import hello.core.order.OrderService;
import hello.core.order.OrderServiceImpl;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

@Configuration
public class AppConfig {

    @Bean
    public MemberService memberService() {
        return new MemberServiceImpl(memberRepository());
    }

    @Bean
    public MemberRepository memberRepository() {
        return new MemoryMemberRepository();
    }

    @Bean
    public OrderService orderService(){
        return new OrderServiceImpl(memberRepository(), discountPolicy());
    }

    @Bean
    public DiscountPolicy discountPolicy(){
//        return new FixDiscountPolicy();
        return new RateDiscountPolicy();
    }
}
```

- μ¤ν”„λ§ μ»¨ν…μ΄λ„λ” `@Configuration` μ΄ λ¶™μ€ `AppConfig` λ¥Ό μ„¤μ •(κµ¬μ„±) μ •λ³΄λ΅ μ‚¬μ©
- `@Bean` μ΄λΌ μ ν λ©”μ„λ“λ¥Ό λ¨λ‘ νΈμ¶ν•΄μ„ λ°ν™λ κ°μ²΄λ¥Ό μ¤ν”„λ§ μ»¨ν…μ΄λ„μ— λ“±λ΅ν•λ‹¤. μ΄λ ‡κ² μ¤ν”„λ§ μ»¨ν…μ΄λ„μ— λ“±λ΅λ κ°μ²΄λ¥Ό **μ¤ν”„λ§ λΉ**μ΄λΌ ν•λ‹¤.

```java
// AppConfig appConfig = new AppConfig();
// MemberService memberService = appConfig.memberService();

ApplicationContext applicationContext = new AnnotationConfigApplicationContext(AppConfig.class);
MemberService memberService = applicationContext.getBean("memberService", MemberService.class); //μ΄λ¦„, νƒ€μ…
```

- `main` λ©”μ„λ“μ—μ„ `applicationContext`λ¥Ό λ°›μ•„μ΄
- μ¤ν”„λ§ λΉμ€ `applicationContext.getBean()` λ©”μ„λ“λ¥Ό μ‚¬μ©ν•΄μ„ μ°Ύμ„ μ μλ‹¤.
- μ¤ν”„λ§ λΉμ€ `@Bean` μ΄ λ¶™μ€ λ©”μ„λ“μ λ…μ„ μ¤ν”„λ§ λΉμ μ΄λ¦„μΌλ΅ μ‚¬μ©ν•λ‹¤. ( memberService ,
  orderService )

μ¤ν”„λ§ λΉμΌλ΅ λ“±λ΅λ κ²ƒμ„ λ΅κ·Έμ—μ„ λ³Ό μ μμ!

```
/Users/seunchoi/Library/Java/JavaVirtualMachines/azul-16.0.2/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar=51516:/Applications/IntelliJ IDEA CE.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Users/seunchoi/Desktop/JPA/core/out/production/classes:/Users/seunchoi/Desktop/JPA/core/out/production/resources:/Users/seunchoi/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot-starter/2.6.2/c36f1f6886cdbedc5347fdea62b97b44b053b0ba/spring-boot-starter-2.6.2.jar:/Users/seunchoi/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot-autoconfigure/2.6.2/7c91bce101d3f796cccbc1a6744c1ea389fff73f/spring-boot-autoconfigure-2.6.2.jar:/Users/seunchoi/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot/2.6.2/bbf59f411320da665411692359ff511315d0ff91/spring-boot-2.6.2.jar:/Users/seunchoi/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot-starter-logging/2.6.2/58d4896c606b6ff07b9bd8e46c87eac5a51255de/spring-boot-starter-logging-2.6.2.jar:/Users/seunchoi/.gradle/caches/modules-2/files-2.1/jakarta.annotation/jakarta.annotation-api/1.3.5/59eb84ee0d616332ff44aba065f3888cf002cd2d/jakarta.annotation-api-1.3.5.jar:/Users/seunchoi/.gradle/caches/modules-2/files-2.1/org.springframework/spring-core/5.3.14/d87ad19f9d8b9a3f1a143db5a2be34c61751aaa2/spring-core-5.3.14.jar:/Users/seunchoi/.gradle/caches/modules-2/files-2.1/org.yaml/snakeyaml/1.29/6d0cdafb2010f1297e574656551d7145240f6e25/snakeyaml-1.29.jar:/Users/seunchoi/.gradle/caches/modules-2/files-2.1/org.springframework/spring-context/5.3.14/ce6042492f042131f602bdc83fcb412b142bdac5/spring-context-5.3.14.jar:/Users/seunchoi/.gradle/caches/modules-2/files-2.1/ch.qos.logback/logback-classic/1.2.9/7d495522b08a9a66084bf417e70eedf95ef706bc/logback-classic-1.2.9.jar:/Users/seunchoi/.gradle/caches/modules-2/files-2.1/org.apache.logging.log4j/log4j-to-slf4j/2.17.0/e50b82411b9ce9c204c938509f914b2bb887168b/log4j-to-slf4j-2.17.0.jar:/Users/seunchoi/.gradle/caches/modules-2/files-2.1/org.slf4j/jul-to-slf4j/1.7.32/8a055c04ab44e8e8326901cadf89080721348bdb/jul-to-slf4j-1.7.32.jar:/Users/seunchoi/.gradle/caches/modules-2/files-2.1/org.springframework/spring-jcl/5.3.14/ffcf745ed5ba32930771378316fd08e97986bec2/spring-jcl-5.3.14.jar:/Users/seunchoi/.gradle/caches/modules-2/files-2.1/org.springframework/spring-aop/5.3.14/f049146a55991e89c0f04b9624f1f69e1763d80f/spring-aop-5.3.14.jar:/Users/seunchoi/.gradle/caches/modules-2/files-2.1/org.springframework/spring-beans/5.3.14/24cc27af89edc1581a57bb15bc160d2353f40a0e/spring-beans-5.3.14.jar:/Users/seunchoi/.gradle/caches/modules-2/files-2.1/org.springframework/spring-expression/5.3.14/5cd4c568522b7084afac5d2ac6cb945b797b3f16/spring-expression-5.3.14.jar:/Users/seunchoi/.gradle/caches/modules-2/files-2.1/ch.qos.logback/logback-core/1.2.9/cdaca0cf922c5791a8efa0063ec714ca974affe3/logback-core-1.2.9.jar:/Users/seunchoi/.gradle/caches/modules-2/files-2.1/org.slf4j/slf4j-api/1.7.32/cdcff33940d9f2de763bc41ea05a0be5941176c3/slf4j-api-1.7.32.jar:/Users/seunchoi/.gradle/caches/modules-2/files-2.1/org.apache.logging.log4j/log4j-api/2.17.0/bbd791e9c8c9421e45337c4fe0a10851c086e36c/log4j-api-2.17.0.jar hello.core.MemberApp
22:57:18.660 [main] DEBUG org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@a74868d
22:57:18.677 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
22:57:18.789 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
22:57:18.801 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
22:57:18.802 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
22:57:18.804 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
22:57:18.810 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'appConfig'
22:57:18.818 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'memberService'
22:57:18.833 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'memberRepository'
22:57:18.836 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'orderService'
22:57:18.838 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'discountPolicy'
```

### μ¤ν”„λ§ μ»¨ν…μ΄λ„


>π’΅ **μ©μ–΄μ •λ¦¬**
>- μ¤ν”„λ§ μ»¨ν…μ΄λ„ : λΉμ„ κ΄€λ¦¬ν•λ” μλ―Έμ—μ„μ μ• ν”λ¦¬μΌ€μ΄μ… μ»¨ν…μ¤νΈ **(μ• ν”λ¦¬μΌ€μ΄μ… μ»¨ν…μ¤νΈ = IoC μ»¨ν…μ΄λ„ = μ¤ν”„λ§ μ»¨ν…μ΄λ„ = λΉ ν©ν† λ¦¬)**
>- μ¤ν”„λ§ λΉ : μ¤ν”„λ§ μ»¨ν…μ΄λ„μ— λ“±λ΅λ κ°μ²΄. μ¤ν”„λ§μ΄ μ μ–΄κ¶μ„ κ°€μ§€κ³  μ§μ ‘ λ§λ“¤κ³  κ΄€κ³„λ¥Ό λ¶€μ—¬ν•λ” μ μ–΄μ μ—­μ „μ΄ μ μ©λ μ¤λΈμ νΈ.


- `ApplicationContext` λ¥Ό **μ¤ν”„λ§ μ»¨ν…μ΄λ„**λΌ ν•λ‹¤.
- κΈ°μ΅΄μ—λ” κ°λ°μκ°€ `AppConfig` λ¥Ό μ‚¬μ©ν•΄μ„ μ§μ ‘ κ°μ²΄λ¥Ό μƒμ„±ν•κ³  DIλ¥Ό ν–μ§€λ§, μ΄μ λ¶€ν„°λ” μ¤ν”„λ§
  μ»¨ν…μ΄λ„λ¥Ό ν†µν•΄μ„ μ‚¬μ©ν•λ‹¤.
- μ΄μ „μ—λ” κ°λ°μκ°€ ν•„μ”ν• κ°μ²΄λ¥Ό `AppConfig` λ¥Ό μ‚¬μ©ν•΄μ„ μ§μ ‘ μ΅°νν–μ§€λ§, μ΄μ λ¶€ν„°λ” μ¤ν”„λ§
  μ»¨ν…μ΄λ„λ¥Ό ν†µν•΄μ„ ν•„μ”ν• **μ¤ν”„λ§ λΉ(κ°μ²΄)**λ¥Ό μ°Ύμ•„μ•Ό ν•λ‹¤.
- κΈ°μ΅΄μ—λ” κ°λ°μκ°€ μ§μ ‘ μλ°”μ½”λ“λ΅ λ¨λ“  κ²ƒμ„ ν–λ‹¤λ©΄ μ΄μ λ¶€ν„°λ” **μ¤ν”„λ§ μ»¨ν…μ΄λ„**μ— κ°μ²΄λ¥Ό **μ¤ν”„λ§ λΉ**μΌλ΅
  λ“±λ΅ν•κ³ , μ¤ν”„λ§ μ»¨ν…μ΄λ„μ—μ„ μ¤ν”„λ§ λΉμ„ μ°Ύμ•„μ„ μ‚¬μ©ν•λ„λ΅ λ³€κ²½λμ—λ‹¤.

μ½”λ“κ°€ μ•½κ°„ λ” λ³µμ΅ν•΄μ§„ κ²ƒ κ°™μ€λ°, μ¤ν”„λ§ μ»¨ν…μ΄λ„λ¥Ό μ‚¬μ©ν•λ©΄ μ–΄λ–¤ μ¥μ μ΄ μμ„κΉ?

- λ²”μ©μ ν”„λ μ„μ›ν¬!